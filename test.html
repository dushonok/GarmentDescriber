<DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>My Test</title>
    <script src="doctest/doctest.js"></script>
    <link href="doctest/doctest.css" rel="stylesheet">
    <script src="js/garment_storage.js"></script>
  </head>
  <body class="autodoctest">

<h1>Garment API</h1>

<p>All the operations below save to the permacookie.</p>

<p>To make the tests deterministic, we begin by clearing the permacookie (sorry if I just deleted all of your data):</p>
<pre class="test">
window.localStorage.clear();
print(window.localStorage)
// => []
</pre>

<p>Each user should begin by initializing a "session", which groups together many garments.</p>
<pre class="test">
sessionId = newSession("Nadya");
print(sessionId);
// => "Nadya001"
</pre>
<pre>
garmentId = newGarment(sessionId)

# edit the field if it exists, or add it to the end of the row otherwise
saveField(sessionId, garmentId, key, value)

sessionIds = listSessions()
garmentIds = listGarments(sessionId)
getField(sessionId, garmentId, key)

# prompt the user to download a file named "Nadya003.csv"
# with one line per garment, in the order they were created,
# each of which list all the field values (separated by commas)
# in the order they were added.
exportCSV(sessionId)
</pre>

<pre class="test">
print(1+2)
// => 3
</pre>

  </body>
</html>
